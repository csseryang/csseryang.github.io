<!DOCTYPE html>
<html>
   <head>
      <style type="text/css" id="wiz_custom_css"> html, body { font-size: 15px; } body { font-family: Helvetica, "Hiragino Sans GB", "Microsoft Yahei", SimSun, SimHei, arial, sans-serif; line-height: 1.6; padding: 0; margin: 20px 36px; margin: 1.33rem 2.4rem; } h1, h2, h3, h4, h5, h6 { margin: 20px 0 10px; margin: 1.33rem 0 0.667rem; padding: 0; font-weight: bold; } h1 { font-size: 21px; font-size: 1.4rem; } h2 { font-size: 20px; font-size: 1.33rem; } h3 { font-size: 18px; font-size: 1.2rem; } h4 { font-size: 17px; font-size: 1.13rem; } h5 { font-size: 15px; font-size: 1rem; } h6 { font-size: 15px; font-size: 1rem; color: #777777; margin: 1rem 0; } div, p, blockquote, ul, ol, dl, table, pre { margin: 10px 0; margin: 0.667rem 0; } ul, ol { padding-left: 32px; padding-left: 2.13rem; } blockquote { border-left: 4px solid #dddddd; padding: 0 12px; padding: 0 0.8rem; color: #aaa; } blockquote > :first-child { margin-top: 0; } blockquote > :last-child { margin-bottom: 0; } img { border: 0; max-width: 100%; height: auto !important; } table { border-collapse: collapse; border: 1px solid #bbbbbb; } td { border-collapse: collapse; border: 1px solid #bbbbbb; } @media screen and (max-width: 660px) { body { margin: 20px 18px; margin: 1.33rem 1.2rem; } } @media only screen and (-webkit-max-device-width: 1024px), only screen and (-o-max-device-width: 1024px), only screen and (max-device-width: 1024px), only screen and (-webkit-min-device-pixel-ratio: 3), only screen and (-o-min-device-pixel-ratio: 3), only screen and (min-device-pixel-ratio: 3) { html, body { font-size: 17px; } body { line-height: 1.7; margin: 12px 15px; margin: 0.75rem 0.9375rem; color: #353c47; } h1 { font-size: 34px; font-size: 2.125rem; } h2 { font-size: 30px; font-size: 1.875rem; } h3 { font-size: 26px; font-size: 1.625rem; } h4 { font-size: 22px; font-size: 1.375rem; } h5 { font-size: 18px; font-size: 1.125rem; } h6 { color: inherit; } div, p, blockquote, ul, ol, dl, table, pre { margin: 0; } ul, ol { padding-left: 40px; padding-left: 2.5rem; } blockquote { border-left: 4px solid #c8d4e8; padding: 0 15px; padding: 0 0.9375rem; color: #b3c2dd; } } </style>
      <style type="text/css" id="wiz_todo_style_id" wiz_link_version="01.00.09">.wiz-todo, .wiz-todo-img {width: 16px; height: 16px; cursor: default; padding: 0 10px 0 2px; vertical-align: -10%;-webkit-user-select: none;} .wiz-todo-label { display: inline-block; padding-top: 7px; padding-bottom: 6px; line-height: 1.5;} .wiz-todo-label-checked { /*text-decoration: line-through;*/ color: #666;} .wiz-todo-label-unchecked {text-decoration: initial;} .wiz-todo-completed-info {padding-left: 44px; display: inline-block; } .wiz-todo-avatar { width:20px; height: 20px; vertical-align: -20%; margin-right:10px; border-radius: 2px;} .wiz-todo-account, .wiz-todo-dt { color: #666; }</style>
      <link type="text/css" rel="stylesheet" id="wiz_code_highlight_link" href="../dist/wiz_code_highlight.css">
   </head>
   <body>
      <p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif; font-size: 14px; line-height: 30px; white-space: normal; widows: 1;">Given a binary tree, determine if it is a valid binary search tree (BST).</p>
      <p style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif; font-size: 14px; line-height: 30px; white-space: normal; widows: 1;">Assume a BST is defined as follows:</p>
      <ul style="box-sizing: border-box; margin-top: 0px; margin-bottom: 10px; color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif; font-size: 14px; line-height: 30px; white-space: normal; widows: 1;" class=" list-paddingleft-2">
         <li style="">The left subtree of a node contains only nodes with keys&nbsp;<span style="box-sizing: border-box; font-weight: 700;">less than</span>&nbsp;the node&#39;s key.</li>
         <li style="">The right subtree of a node contains only nodes with keys&nbsp;<span style="box-sizing: border-box; font-weight: 700;">greater than</span>&nbsp;the node&#39;s key.</li>
         <li style="">
            <p>Both the left and right subtrees must also be binary search trees</p>
         </li>
      </ul>
      <p><br/></p>
      <p><span style="color: rgb(51, 51, 51); font-family: &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif; font-size: 14px; line-height: 20px; white-space: normal; widows: 1;">Ensure that every next node of in-order traversal is larger than previous one. Using boolean flag to start with the left most node.</span></p>
      <div>
         <pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums list-paddingleft-2"><li class="L0"><code class="language-cpp"><span class="kwd">class</span><span class="pln"> </span><span class="typ">Solution</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="language-cpp"><span class="kwd">private</span><span class="pun">:</span></code></li><li class="L2"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp;</span><span class="typ">TreeNode</span><span class="pun">*</span><span class="pln"> prev</span><span class="pun">=</span><span class="pln">NULL</span><span class="pun">;</span></code></li><li class="L3"><code class="language-cpp"><span class="kwd">public</span><span class="pun">:</span></code></li><li class="L4"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp;</span><span class="kwd">bool</span><span class="pln"> isValidBST</span><span class="pun">(</span><span class="typ">TreeNode</span><span class="pun">*</span><span class="pln"> root</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="kwd">if</span><span class="pun">(!</span><span class="pln">root</span><span class="pun">)</span><span class="pln"> &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span></code></li><li class="L6"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="kwd">return</span><span class="pln"> isValidBST</span><span class="pun">(</span><span class="pln">root</span><span class="pun">-&gt;</span><span class="pln">left</span><span class="pun">)</span><span class="pln"> &nbsp;</span><span class="pun">&amp;&amp;</span><span class="pln"> help</span><span class="pun">(</span><span class="pln">root</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> isValidBST</span><span class="pun">(</span><span class="pln">root</span><span class="pun">-&gt;</span><span class="pln">right</span><span class="pun">);</span></code></li><li class="L7"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp;</span><span class="pun">}</span></code></li><li class="L8"><code class="language-cpp"></code></li><li class="L9"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp;</span><span class="kwd">bool</span><span class="pln"> help</span><span class="pun">(</span><span class="typ">TreeNode</span><span class="pun">*</span><span class="pln"> root</span><span class="pun">){</span></code></li><li class="L0"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="kwd">if</span><span class="pun">(!</span><span class="pln">prev</span><span class="pun">){</span></code></li><li class="L1"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;prev</span><span class="pun">=</span><span class="pln">root</span><span class="pun">;</span></code></li><li class="L2"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span></code></li><li class="L3"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">}</span></code></li><li class="L4"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="kwd">if</span><span class="pun">(</span><span class="pln">prev</span><span class="pun">-&gt;</span><span class="pln">val </span><span class="pun">&gt;=</span><span class="pln"> root</span><span class="pun">-&gt;</span><span class="pln">val</span><span class="pun">)</span><span class="pln"> &nbsp; </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L5"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;prev</span><span class="pun">=</span><span class="pln">root</span><span class="pun">;</span></code></li><li class="L6"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span></code></li><li class="L7"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp;</span><span class="pun">}</span></code></li><li class="L8"><code class="language-cpp"><span class="pun">};</span></code></li></ol></pre>
      </div>
      <br/>
      <p>haochen&#39;s</p>
      <div>
         <pre class="prettyprint linenums prettyprinted" style=""><ol class="linenums list-paddingleft-2"><li class="L0"><code class="language-cpp"><span class="kwd">bool</span><span class="pln"> isValidBST</span><span class="pun">(</span><span class="typ">TreeNode</span><span class="pln"> </span><span class="pun">*</span><span class="pln">root</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="language-cpp"></code></li><li class="L2"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp;</span><span class="com">//travel the tree by inner-order</span></code></li><li class="L3"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp;</span><span class="typ">vector</span><span class="pun">&lt;</span><span class="typ">TreeNode</span><span class="pun">*&gt;</span><span class="pln"> </span><span class="typ">stack</span><span class="pun">;</span></code></li><li class="L4"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp;</span><span class="typ">TreeNode</span><span class="pun">*</span><span class="pln"> node </span><span class="pun">=</span><span class="pln"> root</span><span class="pun">;</span></code></li><li class="L5"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp;</span><span class="typ">vector</span><span class="str">&lt;int&gt;</span><span class="pln"> v</span><span class="pun">;</span></code></li><li class="L6"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp;</span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="typ">stack</span><span class="pun">.</span><span class="pln">size</span><span class="pun">()&gt;</span><span class="lit">0</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> node</span><span class="pun">!=</span><span class="pln">NULL</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">node</span><span class="pun">!=</span><span class="pln">NULL</span><span class="pun">){</span></code></li><li class="L8"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="typ">stack</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">node</span><span class="pun">);</span></code></li><li class="L9"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;node </span><span class="pun">=</span><span class="pln"> node</span><span class="pun">-&gt;</span><span class="pln">left</span><span class="pun">;</span></code></li><li class="L0"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">}</span><span class="kwd">else</span><span class="pun">{</span></code></li><li class="L1"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;node </span><span class="pun">=</span><span class="pln"> </span><span class="typ">stack</span><span class="pun">.</span><span class="pln">back</span><span class="pun">();</span></code></li><li class="L2"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="typ">stack</span><span class="pun">.</span><span class="pln">pop_back</span><span class="pun">();</span></code></li><li class="L3"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;v</span><span class="pun">.</span><span class="pln">push_back</span><span class="pun">(</span><span class="pln">node</span><span class="pun">-&gt;</span><span class="pln">val</span><span class="pun">);</span></code></li><li class="L4"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;node </span><span class="pun">=</span><span class="pln"> node</span><span class="pun">-&gt;</span><span class="pln">right</span><span class="pun">;</span></code></li><li class="L5"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">}</span></code></li><li class="L6"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp;</span><span class="pun">}</span></code></li><li class="L7"><code class="language-cpp"></code></li><li class="L8"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp;</span><span class="com">//check the vector wehther sorted or not</span></code></li><li class="L9"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp;</span><span class="kwd">for</span><span class="pun">(</span><span class="typ">int</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln"> v</span><span class="pun">.</span><span class="pln">size</span><span class="pun">()&gt;</span><span class="lit">0</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> i</span><span class="pun">&lt;</span><span class="pln">v</span><span class="pun">.</span><span class="pln">size</span><span class="pun">()-</span><span class="lit">1</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++){</span></code></li><li class="L0"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">v</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">&gt;=</span><span class="pln"> v</span><span class="pun">[</span><span class="pln">i</span><span class="pun">+</span><span class="lit">1</span><span class="pun">])</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L2"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="pun">}</span></code></li><li class="L3"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp;</span><span class="pun">}</span></code></li><li class="L4"><code class="language-cpp"></code></li><li class="L5"><code class="language-cpp"><span class="pln"> &nbsp; &nbsp;</span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span></code></li><li class="L6"><code class="language-cpp"><span class="pun">}</span></code></li></ol></pre>
      </div>
      <br/>
      <p><br/></p>
   </body>
</html>
